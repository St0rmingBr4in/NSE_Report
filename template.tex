\documentclass[12pt, a4paper, $lang$]{article}

\usepackage{babel}
\usepackage[utf8]{inputenc}
\inputencoding{utf8}
\usepackage[T1]{fontenc}
\usepackage[a4paper]{geometry}
\usepackage{fancyhdr}
\usepackage{fancyvrb}
\usepackage[Sonny]{fncychap}
\usepackage{titlesec}
\usepackage{titletoc}
\usepackage{ctable}
\usepackage{latexsym}
\usepackage{amssymb,amsmath}
\usepackage{array}
%%\usepackage[hyperref,html,x11names,usenames,dvipsnames]{xcolor}
\usepackage{longtable}

\definecolor{dark-gray}{gray}{0.20}
\definecolor{middle-gray}{gray}{0.35}
\definecolor{light-gray}{gray}{0.50}

\renewcommand{\rmdefault}{pag}

\usepackage[colorlinks=true,pdftex=true,linkcolor=dark-gray]{hyperref}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth
\else\Gin@nat@width\fi}
\makeatother
\let\Oldincludegraphics\includegraphics
\renewcommand{\includegraphics}[1]{\Oldincludegraphics[width=\maxwidth]{#1}}

\geometry{top=2cm,bottom=2cm,left=2.5cm,right=2cm}

\DefineShortVerb[commandchars=\\\{\}]{\|}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
\newenvironment{Shaded}{}{}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}

\titleformat{\section}
{\Large\bfseries}{\thesection\hspace{8pt}--}{10pt}{\color{dark-gray}}[\titlerule]
\titleformat{\subsection}
{\large\bfseries}{\thesubsection\hspace{6pt}--}{8pt}{\color{middle-gray}}
\titleformat{\subsubsection}
{\normalsize\bfseries}{}{}{\color{light-gray}}

\titlecontents{chapter}[1.5em]
{\Large\bfseries\color{black}}
{\contentslabel{1em}}{}{\large\titlerule*[2pc]{}\contentspage}[\addvspace{0.8em}]
\dottedcontents{section}[3.8em]{\color{black}}{2.3em}{0.5pc}
\dottedcontents{subsection}[6.1em]{\color{black}}{3.2em}{1pc}

% Fix tightlist problem with newer version of pandoc
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}


\begin{document}
\title{{\Huge\bfseries $title$} \\
  \textit{$subtitle$}}
\author{\textsc{$author$}}
\date{$date$}
\maketitle

\pagestyle{fancy}
\lhead{\textsc{$title$}}
\rhead{\textsc{$date$}}
\lfoot{\textit{EPITA Promo $promo$}}
\rfoot{\textsc{$author$}}
\renewcommand{\headrulewidth}{0.6pt}
\renewcommand{\footrulewidth}{0.6pt}

$body$
\end{document}
